{"ast":null,"code":"var _jsxFileName = \"/home/jessiezan/Desktop/CubosAcademy+Ifood/Desafio-Front-m3/front-integral-desafio-m03/src/components/Table/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport './style.css';\nimport '../../css/layout.css';\nimport '../../css/spacing.css';\nimport { useState } from 'react';\nimport { format } from 'date-fns';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Head({\n  transactions,\n  loadTransactions,\n  setTransactions,\n  diasDaSemana\n}) {\n  _s();\n\n  const [reverseDate, setReverse] = useState(false);\n  const [reverseWeekDay, setReverseWeekDay] = useState(false);\n  useEffect(() => {\n    handleReverseDate(); // loadCredits(transactions)\n    // loadDebits(transactions)\n  }, [reverseDate]);\n\n  async function handleReverseDate() {\n    setReverse();\n    setTransactions(transactions.sort((x, y) => {\n      let a = new Date(x.date);\n      let b = new Date(y.date);\n      return a - b;\n    })); // await loadTransactions()\n    // console.log(newTransactions)\n    // setTransactions(newTransactions)\n  }\n\n  async function handleReverseWeekDay() {\n    setReverseWeekDay;\n    setTransactions(transactions.sort((x, y) => {\n      let a = x.week_day;\n      let b = y.week_day;\n      return a - b;\n    })); // await loadTransactions()\n    // console.log(newTransactions)\n    // setTransactions(newTransactions)\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table-head flex-row justify-around \",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"column-title\",\n      id: \"date\",\n      onClick: () => handleReverseDate(),\n      children: [\"Data\", ' ', /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"reverse\",\n        src: reverseDate ? 'arrow-up.svg' : 'arrow-down.svg'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"column-title\",\n      id: \"week-day\",\n      children: [\"Dia da Semana\", ' ', /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"reverse\",\n        src: reverseWeekDay ? 'arrow-up.svg' : 'arrow-down.svg',\n        onClick: () => handleReverseWeekDay()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"column-title\",\n      children: \"Descri\\xE7\\xE3o\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"column-title\",\n      children: \"Categoria\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"column-title\",\n      id: \"value\",\n      children: \"Valor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Head, \"cZTOnwWfJ0MTSZGSbSib1lwgOzU=\");\n\n_c = Head;\n\nfunction Line({\n  transaction,\n  loadTransactions,\n  setTransacInEditing,\n  setShowModal,\n  transacInEditing,\n  value,\n  setValue,\n  category,\n  setCategory,\n  date,\n  setDate,\n  description,\n  setDescription,\n  credit,\n  setCredit,\n  debit,\n  setDebit,\n  diasDaSemana\n}) {\n  _s2();\n\n  const [showConfirm, setShowConfirm] = useState(false);\n\n  function formatWeekDay(dia) {\n    for (let i = 0; i <= diasDaSemana.length; i++) {\n      if (dia === i) {\n        return diasDaSemana[i];\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table-line flex-row justify-around gap-05\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"line-items\",\n      id: \"date\",\n      children: format(new Date(transaction.date), 'dd/MM/yyyy')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"line-items\",\n      id: \"week-day\",\n      children: formatWeekDay(transaction.week_day)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"line-items\",\n      children: transaction.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"line-items\",\n      children: transaction.category\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: `line-items ${transaction.type === 'credit' ? 'credit-value' : 'debit-value'}`,\n      id: \"value\",\n      children: [\"R$ \", transaction.value, \",00\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-row justify-between position\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"edit-icon\",\n        src: \"./editar.svg\",\n        alt: \"edit\",\n        width: \"20\",\n        onClick: () => setTransacInEditing(transaction)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"delete-icon ml-2\",\n        src: \"./excluir.svg\",\n        alt: \"delete\",\n        width: \"20\",\n        onClick: () => setShowConfirm(!showConfirm)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), showConfirm && /*#__PURE__*/_jsxDEV(Confirm, {\n      loadTransactions: loadTransactions,\n      setShowConfirm: setShowConfirm,\n      transactionId: transaction.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }, this)]\n  }, transaction.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Line, \"07w5HhsPbG9uHJfYjLCIuUrAXBQ=\");\n\n_c2 = Line;\n\nfunction Confirm({\n  loadTransactions,\n  setShowConfirm,\n  transactionId\n}) {\n  async function handleTransactionDelete(transactionID) {\n    try {\n      await fetch(`http://localhost:3333/transactions/${transactionID}`, {\n        method: 'DELETE'\n      });\n      setShowConfirm(false);\n      await loadTransactions();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-column container-confirm-delete\",\n    children: [\"Apagar Item?\", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-row mt-1 gap-05\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-actions-confirm-delete sim\",\n        onClick: () => {\n          handleTransactionDelete(transactionId);\n        },\n        children: \"Sim\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-actions-confirm-delete nao\",\n        onClick: () => setShowConfirm(false),\n        children: \"N\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n}\n\n_c3 = Confirm;\n\nfunction Table({\n  transactions,\n  setTransactions,\n  loadTransactions,\n  setTransacInEditing,\n  setShowModal,\n  transacInEditing,\n  value,\n  setValue,\n  category,\n  setCategory,\n  date,\n  setDate,\n  description,\n  setDescription,\n  credit,\n  setCredit,\n  debit,\n  setDebit,\n  showModal,\n  diasDaSemana\n}) {\n  _s3();\n\n  function formataData(date) {\n    const arrayDate = date.split('/');\n    const day = arrayDate[0];\n    const month = arrayDate[1];\n    const year = arrayDate[2];\n    return new Date(year, month, day);\n  }\n\n  useEffect(() => {\n    if (transacInEditing) {\n      setShowModal(!showModal);\n      setValue(transacInEditing.value);\n      setCategory(transacInEditing.category);\n      setDate(format(new Date(transacInEditing.date), 'dd/MM/yyyy'));\n      setDescription(transacInEditing.description);\n\n      if (transacInEditing.type === 'credit') {\n        setCredit(true);\n        setDebit(false);\n      } else {\n        setCredit(false);\n        setDebit(true);\n      }\n    }\n  }, [transacInEditing]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      transactions: transactions,\n      diasDaSemana: diasDaSemana,\n      setTransactions: setTransactions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-body\",\n      children: transactions.map(transaction => /*#__PURE__*/_jsxDEV(Line, {\n        transaction: transaction,\n        loadTransactions: loadTransactions,\n        setTransacInEditing: setTransacInEditing,\n        setShowModal: setShowModal,\n        value: value,\n        setValue: setValue,\n        category: category,\n        setCategory: setCategory,\n        date: date,\n        setDate: setDate,\n        description: description,\n        setDescription: setDescription,\n        credit: credit,\n        setCredit: setCredit,\n        debit: debit,\n        setDebit: setDebit,\n        diasDaSemana: diasDaSemana\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 5\n  }, this);\n}\n\n_s3(Table, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c4 = Table;\nexport default Table;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Head\");\n$RefreshReg$(_c2, \"Line\");\n$RefreshReg$(_c3, \"Confirm\");\n$RefreshReg$(_c4, \"Table\");","map":{"version":3,"sources":["/home/jessiezan/Desktop/CubosAcademy+Ifood/Desafio-Front-m3/front-integral-desafio-m03/src/components/Table/index.js"],"names":["useState","format","useEffect","Head","transactions","loadTransactions","setTransactions","diasDaSemana","reverseDate","setReverse","reverseWeekDay","setReverseWeekDay","handleReverseDate","sort","x","y","a","Date","date","b","handleReverseWeekDay","week_day","Line","transaction","setTransacInEditing","setShowModal","transacInEditing","value","setValue","category","setCategory","setDate","description","setDescription","credit","setCredit","debit","setDebit","showConfirm","setShowConfirm","formatWeekDay","dia","i","length","type","id","Confirm","transactionId","handleTransactionDelete","transactionID","fetch","method","error","console","log","Table","showModal","formataData","arrayDate","split","day","month","year","map"],"mappings":"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","sourcesContent":["import './style.css'\nimport '../../css/layout.css'\nimport '../../css/spacing.css'\n\nimport { useState } from 'react'\nimport { format } from 'date-fns'\nimport { useEffect } from 'react'\n\nfunction Head({\n  transactions,\n  loadTransactions,\n  setTransactions,\n  diasDaSemana,\n}) {\n  const [reverseDate, setReverse] = useState(false)\n  const [reverseWeekDay, setReverseWeekDay] = useState(false)\n\n  useEffect(() => {\n    handleReverseDate()\n\n    // loadCredits(transactions)\n    // loadDebits(transactions)\n  }, [reverseDate])\n\n  async function handleReverseDate() {\n    setReverse()\n    setTransactions(\n      transactions.sort((x, y) => {\n        let a = new Date(x.date)\n        let b = new Date(y.date)\n        return a - b\n      }),\n    )\n\n    // await loadTransactions()\n    // console.log(newTransactions)\n    // setTransactions(newTransactions)\n  }\n\n  async function handleReverseWeekDay() {\n    setReverseWeekDay\n    setTransactions(\n      transactions.sort((x, y) => {\n        let a = x.week_day\n        let b = y.week_day\n        return a - b\n      }),\n    )\n\n    // await loadTransactions()\n    // console.log(newTransactions)\n    // setTransactions(newTransactions)\n  }\n\n  return (\n    <div className=\"table-head flex-row justify-around \">\n      <h3\n        className=\"column-title\"\n        id=\"date\"\n        onClick={() => handleReverseDate()}\n      >\n        Data{' '}\n        <img\n          alt=\"reverse\"\n          src={reverseDate ? 'arrow-up.svg' : 'arrow-down.svg'}\n        ></img>\n      </h3>\n      <h3 className=\"column-title\" id=\"week-day\">\n        Dia da Semana{' '}\n        <img\n          alt=\"reverse\"\n          src={reverseWeekDay ? 'arrow-up.svg' : 'arrow-down.svg'}\n          onClick={() => handleReverseWeekDay()}\n        ></img>\n      </h3>\n      <h3 className=\"column-title\">Descrição</h3>\n      <h3 className=\"column-title\">Categoria</h3>\n      <h3 className=\"column-title\" id=\"value\">\n        Valor\n      </h3>\n    </div>\n  )\n}\n\nfunction Line({\n  transaction,\n  loadTransactions,\n  setTransacInEditing,\n  setShowModal,\n  transacInEditing,\n  value,\n  setValue,\n  category,\n  setCategory,\n  date,\n  setDate,\n  description,\n  setDescription,\n  credit,\n  setCredit,\n  debit,\n  setDebit,\n  diasDaSemana,\n}) {\n  const [showConfirm, setShowConfirm] = useState(false)\n\n  function formatWeekDay(dia) {\n    for (let i = 0; i <= diasDaSemana.length; i++) {\n      if (dia === i) {\n        return diasDaSemana[i]\n      }\n    }\n  }\n\n  return (\n    <div\n      className=\"table-line flex-row justify-around gap-05\"\n      key={transaction.id}\n    >\n      <h3 className=\"line-items\" id=\"date\">\n        {format(new Date(transaction.date), 'dd/MM/yyyy')}\n      </h3>\n      <h3 className=\"line-items\" id=\"week-day\">\n        {formatWeekDay(transaction.week_day)}\n      </h3>\n      <h3 className=\"line-items\">{transaction.description}</h3>\n      <h3 className=\"line-items\">{transaction.category}</h3>\n      <h3\n        className={`line-items ${\n          transaction.type === 'credit' ? 'credit-value' : 'debit-value'\n        }`}\n        id=\"value\"\n      >\n        R$ {transaction.value},00\n      </h3>\n      <div className=\"flex-row justify-between position\">\n        <img\n          className=\"edit-icon\"\n          src=\"./editar.svg\"\n          alt=\"edit\"\n          width=\"20\"\n          onClick={() => setTransacInEditing(transaction)}\n        ></img>\n        <img\n          className=\"delete-icon ml-2\"\n          src=\"./excluir.svg\"\n          alt=\"delete\"\n          width=\"20\"\n          onClick={() => setShowConfirm(!showConfirm)}\n        ></img>\n      </div>\n      {showConfirm && (\n        <Confirm\n          loadTransactions={loadTransactions}\n          setShowConfirm={setShowConfirm}\n          transactionId={transaction.id}\n        />\n      )}\n    </div>\n  )\n}\n\nfunction Confirm({ loadTransactions, setShowConfirm, transactionId }) {\n  async function handleTransactionDelete(transactionID) {\n    try {\n      await fetch(`http://localhost:3333/transactions/${transactionID}`, {\n        method: 'DELETE',\n      })\n      setShowConfirm(false)\n      await loadTransactions()\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  return (\n    <div className=\"flex-column container-confirm-delete\">\n      Apagar Item?\n      <div className=\"flex-row mt-1 gap-05\">\n        <button\n          className=\"btn-actions-confirm-delete sim\"\n          onClick={() => {\n            handleTransactionDelete(transactionId)\n          }}\n        >\n          Sim\n        </button>\n        <button\n          className=\"btn-actions-confirm-delete nao\"\n          onClick={() => setShowConfirm(false)}\n        >\n          Não\n        </button>\n      </div>\n    </div>\n  )\n}\n\nfunction Table({\n  transactions,\n  setTransactions,\n  loadTransactions,\n  setTransacInEditing,\n  setShowModal,\n  transacInEditing,\n  value,\n  setValue,\n  category,\n  setCategory,\n  date,\n  setDate,\n  description,\n  setDescription,\n  credit,\n  setCredit,\n  debit,\n  setDebit,\n  showModal,\n  diasDaSemana,\n}) {\n  function formataData(date) {\n    const arrayDate = date.split('/')\n    const day = arrayDate[0]\n    const month = arrayDate[1]\n    const year = arrayDate[2]\n    return new Date(year, month, day)\n  }\n\n  useEffect(() => {\n    if (transacInEditing) {\n      setShowModal(!showModal)\n      setValue(transacInEditing.value)\n      setCategory(transacInEditing.category)\n      setDate(format(new Date(transacInEditing.date), 'dd/MM/yyyy'))\n      setDescription(transacInEditing.description)\n      if (transacInEditing.type === 'credit') {\n        setCredit(true)\n        setDebit(false)\n      } else {\n        setCredit(false)\n        setDebit(true)\n      }\n    }\n  }, [transacInEditing])\n  return (\n    <div className=\"table mt-5\">\n      <Head\n        transactions={transactions}\n        diasDaSemana={diasDaSemana}\n        setTransactions={setTransactions}\n      />\n      <div className=\"table-body\">\n        {transactions.map((transaction) => (\n          <Line\n            transaction={transaction}\n            loadTransactions={loadTransactions}\n            setTransacInEditing={setTransacInEditing}\n            setShowModal={setShowModal}\n            value={value}\n            setValue={setValue}\n            category={category}\n            setCategory={setCategory}\n            date={date}\n            setDate={setDate}\n            description={description}\n            setDescription={setDescription}\n            credit={credit}\n            setCredit={setCredit}\n            debit={debit}\n            setDebit={setDebit}\n            diasDaSemana={diasDaSemana}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default Table\n"]},"metadata":{},"sourceType":"module"}