{"ast":null,"code":"var _jsxFileName = \"/home/jessiezan/Desktop/CubosAcademy+Ifood/Desafio-Front-m3/app-controle-financeiro/src/components/Table/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport './style.css';\nimport '../../css/layout.css';\nimport '../../css/spacing.css';\nimport useTasksList from '../../hooks/useTasksList';\nimport { useState } from 'react';\nimport { format } from 'date-fns';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Head({}) {\n  _s();\n\n  const {\n    transactions,\n    loadTransactions,\n    setTransactions,\n    diasDaSemana,\n    ordenaData,\n    setOrdenaData,\n    ordenaWeekDay,\n    setOrdenaWeekDay,\n    ordenaValue,\n    setOrdenaValue\n  } = useTasksList();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table-head flex-row justify-around \",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"column-title\",\n      id: \"date\",\n      value: \"date\",\n      onClick: () => setOrdenaData(!ordenaData),\n      children: [\"Data\", ' ', /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"reverse\",\n        src: ordenaData ? 'arrow-down.svg' : 'arrow-up.svg'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"column-title\",\n      id: \"week-day\",\n      onClick: () => setOrdenaWeekDay(!ordenaWeekDay),\n      children: [\"Dia da Semana\", ' ', /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"reverse\",\n        src: ordenaWeekDay ? 'arrow-down.svg' : 'arrow-up.svg'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"column-title\",\n      children: \"Descri\\xE7\\xE3o\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"column-title\",\n      children: \"Categoria\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"column-title\",\n      id: \"value\",\n      onClick: () => setOrdenaValue(!ordenaValue),\n      children: [\"Valor\", ' ', /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"reverse\",\n        src: ordenaValue ? 'arrow-down.svg' : 'arrow-up.svg'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Head, \"ObGADcsUl6HbY7AWa/LgsZBbKQE=\", false, function () {\n  return [useTasksList];\n});\n\n_c = Head;\n\nfunction Line() {\n  _s2();\n\n  const {\n    transaction,\n    loadTransactions,\n    setTransacInEditing,\n    diasDaSemana\n  } = useTasksList();\n  const [showConfirm, setShowConfirm] = useState(false);\n\n  function formatWeekDay(dia) {\n    for (let i = 0; i <= diasDaSemana.length; i++) {\n      if (dia === i) {\n        return diasDaSemana[i];\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table-line flex-row justify-around gap-05\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"line-items\",\n      id: \"date\",\n      children: format(new Date(transaction.date), 'dd/MM/yyyy')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"line-items\",\n      id: \"week-day\",\n      children: formatWeekDay(transaction.week_day)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"line-items\",\n      children: transaction.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"line-items\",\n      children: transaction.category\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: `line-items ${transaction.type === 'credit' ? 'credit-value' : 'debit-value'}`,\n      id: \"value\",\n      children: [\"R$ \", transaction.value, \",00\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-row justify-between position\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"edit-icon\",\n        src: \"./editar.svg\",\n        alt: \"edit\",\n        width: \"20\",\n        onClick: () => setTransacInEditing(transaction)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"delete-icon ml-2\",\n        src: \"./excluir.svg\",\n        alt: \"delete\",\n        width: \"20\",\n        onClick: () => setShowConfirm(!showConfirm)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), showConfirm && /*#__PURE__*/_jsxDEV(Confirm, {\n      loadTransactions: loadTransactions,\n      setShowConfirm: setShowConfirm,\n      transactionId: transaction.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this)]\n  }, transaction.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Line, \"YEKsOeeruRujPyTY3ziLdXRTSwA=\", false, function () {\n  return [useTasksList];\n});\n\n_c2 = Line;\n\nfunction Confirm({\n  loadTransactions,\n  setShowConfirm,\n  transactionId\n}) {\n  async function handleTransactionDelete(transactionID) {\n    try {\n      await fetch(`http://localhost:3333/transactions/${transactionID}`, {\n        method: 'DELETE'\n      });\n      setShowConfirm(false);\n      await loadTransactions();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-column container-confirm-delete\",\n    children: [\"Apagar Item?\", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-row mt-1 gap-05\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-actions-confirm-delete sim\",\n        onClick: () => {\n          handleTransactionDelete(transactionId);\n        },\n        children: \"Sim\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-actions-confirm-delete nao\",\n        onClick: () => setShowConfirm(false),\n        children: \"N\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}\n\n_c3 = Confirm;\n\nfunction Table() {\n  _s3();\n\n  const {\n    transactions,\n    setTransactions,\n    setShowModal,\n    transacInEditing,\n    setValue,\n    setCategory,\n    setDate,\n    setDescription,\n    setCredit,\n    setDebit,\n    showModal\n  } = useTasksList();\n  const [ordenaData, setOrdenaData] = useState(false);\n  const [ordenaWeekDay, setOrdenaWeekDay] = useState(false);\n  const [ordenaValue, setOrdenaValue] = useState(false);\n  useEffect(() => {\n    handleReverseDate();\n    setOrdenaWeekDay(false);\n    setOrdenaValue(false);\n  }, [ordenaData]);\n  useEffect(() => {\n    handleReverseWeekDay();\n    setOrdenaData(false);\n    setOrdenaValue(false);\n  }, [ordenaWeekDay]);\n  useEffect(() => {\n    handleReverseValue();\n    setOrdenaData(false);\n    setOrdenaWeekDay(false);\n  }, [ordenaValue]);\n\n  function handleReverseDate() {\n    if (ordenaData) {\n      setTransactions(transactions.sort((x, y) => {\n        let a = new Date(x.date);\n        let b = new Date(y.date);\n        return a - b;\n      }));\n    } else {\n      setTransactions(transactions.reverse());\n    }\n  }\n\n  function handleReverseWeekDay() {\n    if (ordenaWeekDay) {\n      setTransactions(transactions.sort((x, y) => {\n        let a = x.week_day;\n        let b = y.week_day;\n        return a - b;\n      }));\n    } else {\n      setTransactions(transactions.reverse());\n    }\n  }\n\n  function handleReverseValue() {\n    if (ordenaValue) {\n      setTransactions(transactions.sort((x, y) => {\n        let a = x.value;\n        let b = y.value;\n        return a - b;\n      }));\n    } else {\n      setTransactions(transactions.reverse());\n    }\n  }\n\n  useEffect(() => {\n    if (transacInEditing) {\n      setShowModal(!showModal);\n      setValue(transacInEditing.value);\n      setCategory(transacInEditing.category);\n      setDate(format(new Date(transacInEditing.date), 'dd/MM/yyyy'));\n      setDescription(transacInEditing.description);\n\n      if (transacInEditing.type === 'credit') {\n        setCredit(true);\n        setDebit(false);\n      } else {\n        setCredit(false);\n        setDebit(true);\n      }\n    }\n  }, [transacInEditing]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(Head, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-body\",\n      children: transactions.map(transaction => /*#__PURE__*/_jsxDEV(Line, {\n        transaction: transaction\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 261,\n    columnNumber: 5\n  }, this);\n}\n\n_s3(Table, \"7LOojIUPkVsgOlxHXoHcarnZbtw=\", false, function () {\n  return [useTasksList];\n});\n\n_c4 = Table;\nexport default Table;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Head\");\n$RefreshReg$(_c2, \"Line\");\n$RefreshReg$(_c3, \"Confirm\");\n$RefreshReg$(_c4, \"Table\");","map":{"version":3,"sources":["/home/jessiezan/Desktop/CubosAcademy+Ifood/Desafio-Front-m3/app-controle-financeiro/src/components/Table/index.js"],"names":["useTasksList","useState","format","useEffect","Head","transactions","loadTransactions","setTransactions","diasDaSemana","ordenaData","setOrdenaData","ordenaWeekDay","setOrdenaWeekDay","ordenaValue","setOrdenaValue","Line","transaction","setTransacInEditing","showConfirm","setShowConfirm","formatWeekDay","dia","i","length","Date","date","week_day","description","category","type","value","id","Confirm","transactionId","handleTransactionDelete","transactionID","fetch","method","error","console","log","Table","setShowModal","transacInEditing","setValue","setCategory","setDate","setDescription","setCredit","setDebit","showModal","handleReverseDate","handleReverseWeekDay","handleReverseValue","sort","x","y","a","b","reverse","map"],"mappings":"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","sourcesContent":["import './style.css'\nimport '../../css/layout.css'\nimport '../../css/spacing.css'\n\nimport useTasksList from '../../hooks/useTasksList'\n\nimport { useState } from 'react'\nimport { format } from 'date-fns'\nimport { useEffect } from 'react'\n\nfunction Head({}) {\n  const {\n    transactions,\n    loadTransactions,\n    setTransactions,\n    diasDaSemana,\n    ordenaData,\n    setOrdenaData,\n    ordenaWeekDay,\n    setOrdenaWeekDay,\n    ordenaValue,\n    setOrdenaValue,\n  } = useTasksList()\n  return (\n    <div className=\"table-head flex-row justify-around \">\n      <h3\n        className=\"column-title\"\n        id=\"date\"\n        value=\"date\"\n        onClick={() => setOrdenaData(!ordenaData)}\n      >\n        Data{' '}\n        <img\n          alt=\"reverse\"\n          src={ordenaData ? 'arrow-down.svg' : 'arrow-up.svg'}\n        ></img>\n      </h3>\n      <h3\n        className=\"column-title\"\n        id=\"week-day\"\n        onClick={() => setOrdenaWeekDay(!ordenaWeekDay)}\n      >\n        Dia da Semana{' '}\n        <img\n          alt=\"reverse\"\n          src={ordenaWeekDay ? 'arrow-down.svg' : 'arrow-up.svg'}\n        ></img>\n      </h3>\n      <h3 className=\"column-title\">Descrição</h3>\n      <h3 className=\"column-title\">Categoria</h3>\n      <h3\n        className=\"column-title\"\n        id=\"value\"\n        onClick={() => setOrdenaValue(!ordenaValue)}\n      >\n        Valor{' '}\n        <img\n          alt=\"reverse\"\n          src={ordenaValue ? 'arrow-down.svg' : 'arrow-up.svg'}\n        ></img>\n      </h3>\n    </div>\n  )\n}\n\nfunction Line() {\n  const {\n    transaction,\n    loadTransactions,\n    setTransacInEditing,\n    diasDaSemana,\n  } = useTasksList()\n  const [showConfirm, setShowConfirm] = useState(false)\n\n  function formatWeekDay(dia) {\n    for (let i = 0; i <= diasDaSemana.length; i++) {\n      if (dia === i) {\n        return diasDaSemana[i]\n      }\n    }\n  }\n\n  return (\n    <div\n      className=\"table-line flex-row justify-around gap-05\"\n      key={transaction.id}\n    >\n      <h3 className=\"line-items\" id=\"date\">\n        {format(new Date(transaction.date), 'dd/MM/yyyy')}\n      </h3>\n      <h3 className=\"line-items\" id=\"week-day\">\n        {formatWeekDay(transaction.week_day)}\n      </h3>\n      <h3 className=\"line-items\">{transaction.description}</h3>\n      <h3 className=\"line-items\">{transaction.category}</h3>\n      <h3\n        className={`line-items ${\n          transaction.type === 'credit' ? 'credit-value' : 'debit-value'\n        }`}\n        id=\"value\"\n      >\n        R$ {transaction.value},00\n      </h3>\n      <div className=\"flex-row justify-between position\">\n        <img\n          className=\"edit-icon\"\n          src=\"./editar.svg\"\n          alt=\"edit\"\n          width=\"20\"\n          onClick={() => setTransacInEditing(transaction)}\n        ></img>\n        <img\n          className=\"delete-icon ml-2\"\n          src=\"./excluir.svg\"\n          alt=\"delete\"\n          width=\"20\"\n          onClick={() => setShowConfirm(!showConfirm)}\n        ></img>\n      </div>\n      {showConfirm && (\n        <Confirm\n          loadTransactions={loadTransactions}\n          setShowConfirm={setShowConfirm}\n          transactionId={transaction.id}\n        />\n      )}\n    </div>\n  )\n}\n\nfunction Confirm({ loadTransactions, setShowConfirm, transactionId }) {\n  async function handleTransactionDelete(transactionID) {\n    try {\n      await fetch(`http://localhost:3333/transactions/${transactionID}`, {\n        method: 'DELETE',\n      })\n      setShowConfirm(false)\n      await loadTransactions()\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  return (\n    <div className=\"flex-column container-confirm-delete\">\n      Apagar Item?\n      <div className=\"flex-row mt-1 gap-05\">\n        <button\n          className=\"btn-actions-confirm-delete sim\"\n          onClick={() => {\n            handleTransactionDelete(transactionId)\n          }}\n        >\n          Sim\n        </button>\n        <button\n          className=\"btn-actions-confirm-delete nao\"\n          onClick={() => setShowConfirm(false)}\n        >\n          Não\n        </button>\n      </div>\n    </div>\n  )\n}\n\nfunction Table() {\n  const {\n    transactions,\n    setTransactions,\n    setShowModal,\n    transacInEditing,\n    setValue,\n    setCategory,\n    setDate,\n    setDescription,\n    setCredit,\n    setDebit,\n    showModal,\n  } = useTasksList()\n\n  const [ordenaData, setOrdenaData] = useState(false)\n  const [ordenaWeekDay, setOrdenaWeekDay] = useState(false)\n  const [ordenaValue, setOrdenaValue] = useState(false)\n\n  useEffect(() => {\n    handleReverseDate()\n    setOrdenaWeekDay(false)\n    setOrdenaValue(false)\n  }, [ordenaData])\n\n  useEffect(() => {\n    handleReverseWeekDay()\n    setOrdenaData(false)\n    setOrdenaValue(false)\n  }, [ordenaWeekDay])\n\n  useEffect(() => {\n    handleReverseValue()\n    setOrdenaData(false)\n    setOrdenaWeekDay(false)\n  }, [ordenaValue])\n\n  function handleReverseDate() {\n    if (ordenaData) {\n      setTransactions(\n        transactions.sort((x, y) => {\n          let a = new Date(x.date)\n          let b = new Date(y.date)\n          return a - b\n        }),\n      )\n    } else {\n      setTransactions(transactions.reverse())\n    }\n  }\n\n  function handleReverseWeekDay() {\n    if (ordenaWeekDay) {\n      setTransactions(\n        transactions.sort((x, y) => {\n          let a = x.week_day\n          let b = y.week_day\n          return a - b\n        }),\n      )\n    } else {\n      setTransactions(transactions.reverse())\n    }\n  }\n\n  function handleReverseValue() {\n    if (ordenaValue) {\n      setTransactions(\n        transactions.sort((x, y) => {\n          let a = x.value\n          let b = y.value\n          return a - b\n        }),\n      )\n    } else {\n      setTransactions(transactions.reverse())\n    }\n  }\n  useEffect(() => {\n    if (transacInEditing) {\n      setShowModal(!showModal)\n      setValue(transacInEditing.value)\n      setCategory(transacInEditing.category)\n      setDate(format(new Date(transacInEditing.date), 'dd/MM/yyyy'))\n      setDescription(transacInEditing.description)\n      if (transacInEditing.type === 'credit') {\n        setCredit(true)\n        setDebit(false)\n      } else {\n        setCredit(false)\n        setDebit(true)\n      }\n    }\n  }, [transacInEditing])\n  return (\n    <div className=\"table mt-5\">\n      <Head />\n      <div className=\"table-body\">\n        {transactions.map((transaction) => (\n          <Line transaction={transaction} />\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default Table\n"]},"metadata":{},"sourceType":"module"}